---
title: 자바의 정석 6. 객체지향 프로그래밍
author: BeAPro
date: 2024-06-19 19:00:00 +0900
categories: [자바의 정석, Java]
tags: [Java]
image:
  path: /assets/img/title-image/javaBasic.png
  alt: javaBasic
---
## **클래스와 객체**
### 클래스와 객체의 정의와 용도

클래스란 `객체를 정의해놓은 것` 또는 클래스는 `객체의 설계도 또는 틀`이라고 정의할 수 있다.

- **클래스의 정의** : 클래스란 객체를 정의해 놓은 것이다.
- **클래스의 용도** : 클래스는 객체를 생성하는데 사용된다.

예를 들자면 TV 설계도를 클래스라고 할 수 있고 TV를 객체라고 할 수 있다.

### 객체와 인스턴스

클래스로부터 객체를 만드는 과정을 클래스의 인스턴스화(instantiate)라고 하며, 어떤 클래스로부터 만들어진 객체를 그 클래스의 인스턴스(instance)라고 한다.
**객체는 모든 인스턴스를 대표하는 포괄적인 의미를 가지고 있고 인스턴스는 어떤 클래스로부터 만들어진 것인지를 강조하는 보다 구체적인 의미를 지니고 있다.**

ex)
 - 책상은 인스턴스다 ❌ -> 책상은 객체다 ⭕️
 - 책상은 책상 클래스의 객체다 ❌ -> 책상은 책상 클래스의 인스턴스다 ⭕️

### 인스턴스의 생성과 사용

```java
class Tv {
  String color;  // 색깔
  boolean power; // 전원상태(on/off)
  int channel;   // 채널
  void power() { power = !power; } // 전원on/off
  void channelUp( channel++;)      // 채널 높이기
  void channelDown {channel--;}    // 채널 낮추기
}

Tv t; // Tv인스턴스를 참조하기 위한 변수 t를 선언
t = new Tv() // Tv 인스턴스 생성
t.channel = 7; // Tv 인스턴스의 멤버변수 channel의 값을 7로 한다.
t.channelDown(); // Tv 인스턴스의 메서드 channelDown()을 호출한다.
```
![Desktop](/assets/img/javaBasic/javaBasic06-01.png){: width="400" height="250"}

인스턴스를 생성하면 위와 같은 구조를 지닌다.
> 인스턴스는 참조변수를 통해서만 다룰 수 있으며, 참조변수의 타입은 인스턴스의 타입과 일치해야한다.

### 클래스의 또 다른 정의

클래스는 프로그래밍적인 관점에서 데이터와 함수를 묶는 것을 의미한다.

![Desktop](/assets/img/javaBasic/javaBasic06-02.png)

## **변수와 메서드**

## 선언위치에 따른 변수의 종류
변수는 클래스 변수, 인스턴스 변수 지역 변수 모두 세 종류가 있다.

```java
class Variables
{
  int iv;         // 인스턴스 변수
  static int cv;  // 클래스변수(static 변수, 공유 변수)
  
  void method()
  {
    int lv = 0;   // 지역 변수
  }
}
```
1. 인스턴스 변수(intance variable)
  
   클래스 영역에 선언되며, 클래스의 인스턴스를 생성할 때 만들어진다.  
   인스턴스는 독립적인 저장공간을 가지므로 서로 다른 값을 가질 수 있다.
   인스턴스마다 고유한 상태를 유지해야하는 속성의 경우, 인스턴스 변수로 선언한다.
  
2. 클래스 변수(class variable)  
   
   클래스 변수를 선언하는 방법은 인스턴스 변수 앞에 `static`을 붙이기만 하면 된다.  
  클래스 변수는 모든 인스턴스가 공통된 저장공간(변수)을 공유하게 된다.  
  한 클래스의 모든 인스턴스들이 공통적인 값을 유지해야하는 속성의 경우, 클래스 변수로 선언해야 한다.  
  `클래스이름.클래스변수` 와 같은 형식으로 사용한다.
  
3. 지역 변수(local variable)
   
   메서드 내에 선언되어 메서드 내에서만 사용 가능하며, 메서드가 종료되면 소멸되어 사용 할 수 없게 된다.

### JVM의 메모리 구조
![Desktop](/assets/img/javaBasic/javaBasic06-03.png){: width="300" height="400"}

JVM은 시스템으로 부터 프로그램을 수행하는데 필요한 메모리를 할당받고 JVM은 이 메모리를 용도에 따라 여러 영역으로 나누어 관리한다.

1. 메서드 영역(method area)
   
   클래스 정보와 클래스 변수가 저장되는 곳

2. 힙(Heap)
   
   인스턴스가 생성되는 공간. new 연산자에 의해서 생성되는 배열과 객체는 모두 이곳에 생성된다.

3. 호출스택(call stack or execution stack)
   
   메서드의 작업공간. 메서드가 호출되면 메서드 수행에 필요한 메모리 공간을 할당받고 메서드가 종료되면 사용하던 메모리를 반환한다.

### 클래스 메서드(static 메서드)와 인스턴스 메서드

**인스턴스 메서드**는 인스턴스 변수와 관련된 작업을 하는, 즉 메서드의 작업을 수행하는데 인스턴스 변수를 필요로 하는 메서드이다.

**클래스 메서드(static 메서드)**는 인스턴스와 관계 없는 메서드이다.

1. 클래스를 설계할 때, 멤버 변수 중 모든 인스턴스에 공통으로 사용하는 것에 static을 붙인다.
2. 클래스 변수 (static 변수)는 인스턴스를 생성하지 않아도 사용할 수 있다.
3. 클래스 메서드(static 메서드)는 인스턴스 변수를 사용할 수 없다.
4. 메서드 내에서 인스턴스 변수를 사용하지 않는다면, 성능을 위해 static을 붙이는 것을 고려한다.
  
### 클래스 멤버와 인스턴스 멤버간의 참조와 호출
클래스 멤버는 클래스가 메모리에 올라갈 때 생성되고 인스턴스 멤버는 인스턴스가 생성되었을 때 생성된다.

즉, 클래스 멤버는 항상 인스턴스 멤버보다 먼저 생성되어있다.

따라서 클래스 멤버가 인스턴스 멤버를 참조하는 것은 안되지만 인스턴스 멤버가 클래스 멤버를 참조하는 것은 가능하다.

```java
class TestClass{
  void instanceMethod() {} // 인스턴스 메서드
  static void staticMethod() // static 메서드

  void instanceMethod2 () { // 인스턴스 메서드
    instanceMethod(); // 다른 인스턴스 메서드를 호출한다.
    staticMethod(); // static 메서드를 호출한다.
  }

  static void staicMethod2() { // static 메서드
  instanceMethod(); // 에러! 인스턴스 메서드를 호출 할 수 없다.
  staticMethod(); // static 메서드는 호출 할 수 있다.

  }

}

```